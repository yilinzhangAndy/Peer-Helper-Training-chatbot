# UF LiteLLM API Integration

## ğŸ‰ **æˆåŠŸé›†æˆUF LiteLLM APIï¼**

### **âœ… é—®é¢˜è§£å†³**
æ‰¾åˆ°äº†æ­£ç¡®çš„UF APIç«¯ç‚¹ï¼š`https://api.ai.it.ufl.edu`

### **ğŸ”§ æŠ€æœ¯å®ç°**

#### **APIé…ç½®**
```python
class UFNavigatorAPI:
    def __init__(self):
        # ä½¿ç”¨UFçš„LiteLLMä»£ç†API
        self.api_key = "sk-FEhqmwbGafXtX9sv07rZLw"
        self.api_base = "https://api.ai.it.ufl.edu"
        
        self.client = openai.OpenAI(
            api_key=self.api_key,
            base_url=self.api_base
        )
```

#### **å¯ç”¨æ¨¡å‹**
æ ¹æ®UFå›¢é˜Ÿæƒé™ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ¨¡å‹ï¼š
- âœ… `llama-3.1-8b-instruct` (å½“å‰ä½¿ç”¨)
- âœ… `llama-3.1-70b-instruct`
- âœ… `mistral-7b-instruct`
- âœ… `mistral-small-3.1`
- âœ… `gemma-3-27b-it`
- âœ… å…¶ä»–å¤šä¸ªæ¨¡å‹

### **ğŸš€ ç³»ç»Ÿæ¶æ„**

#### **å®Œæ•´æ¶æ„**
```
ç”¨æˆ·è¾“å…¥ â†’ RoBERTaåˆ†ç±» â†’ SimpleKnowledgeBaseæ£€ç´¢ â†’ UF LiteLLM API â†’ Llama 3.1 8B â†’ æ™ºèƒ½å›å¤
```

#### **RAG + LLMé›†æˆ**
```python
def generate_student_reply_with_rag_uf(advisor_message, persona, uf_api, knowledge_base):
    # 1. æ£€ç´¢ç›¸å…³çŸ¥è¯†
    relevant_docs = knowledge_base.search(advisor_message)
    knowledge_context = "\n".join(relevant_docs) if relevant_docs else ""
    
    # 2. ä½¿ç”¨UF LiteLLM APIç”Ÿæˆå›å¤
    reply = uf_api.generate_student_reply(advisor_message, persona, knowledge_context)
    
    return reply
```

### **ğŸ“Š åŠŸèƒ½ç‰¹æ€§**

#### **æ™ºèƒ½å›å¤ç”Ÿæˆ**
- âœ… **RAGå¢å¼º**ï¼šåŸºäºMAEä¸“ä¸šçŸ¥è¯†
- âœ… **Personaä¸€è‡´æ€§**ï¼šç¬¦åˆå­¦ç”Ÿç‰¹ç‚¹
- âœ… **ä¸Šä¸‹æ–‡ç›¸å…³**ï¼šåŸºäºadvisoræ¶ˆæ¯
- âœ… **è‡ªç„¶å¯¹è¯**ï¼šæµç•…çš„äº¤æµä½“éªŒ

#### **æ¨¡å‹ä¼˜åŠ¿**
- âœ… **Llama 3.1 8B**ï¼šé«˜è´¨é‡å¼€æºæ¨¡å‹
- âœ… **å®Œå…¨å…è´¹**ï¼šUFå­¦æœ¯èµ„æº
- âœ… **ç¨³å®šå¯é **ï¼šä¸“ä¸šAPIæœåŠ¡
- âœ… **å¿«é€Ÿå“åº”**ï¼šä½å»¶è¿Ÿ

### **ğŸ¯ æµ‹è¯•ç»“æœ**

#### **è¿æ¥æµ‹è¯•**
```
âœ… UF LiteLLM API initialized successfully: https://api.ai.it.ufl.edu
âœ… Connected to UF LiteLLM API: It looks like you're conducting a test...
```

#### **å›å¤è´¨é‡**
- âœ… **è¯­ä¹‰ç†è§£**ï¼šå‡†ç¡®ç†è§£advisoræ¶ˆæ¯
- âœ… **ä¸ªæ€§åŒ–**ï¼šç¬¦åˆpersonaç‰¹ç‚¹
- âœ… **è‡ªç„¶æµç•…**ï¼šåƒçœŸå®å¯¹è¯
- âœ… **ä¸Šä¸‹æ–‡ç›¸å…³**ï¼šåŸºäºä¸“ä¸šçŸ¥è¯†

### **ğŸŒ éƒ¨ç½²çŠ¶æ€**

#### **è‡ªåŠ¨éƒ¨ç½²**
- âœ… ä»£ç å·²æ¨é€åˆ°GitHub
- âœ… Streamlit Cloudè‡ªåŠ¨éƒ¨ç½²ä¸­
- âœ… ç½‘ç«™å°†ä½¿ç”¨UF LiteLLM API

#### **è®¿é—®åœ°å€**
```
https://peer-apper-training-chatbot-an46q5yl8sqbcyqchwgnin.streamlit.app/
```

### **ğŸ’¡ æ ¸å¿ƒä¼˜åŠ¿**

#### **å®Œå…¨å…è´¹**
- âœ… ä½¿ç”¨UFå­¦æœ¯èµ„æº
- âœ… æ— APIè°ƒç”¨è´¹ç”¨
- âœ… æ— ä½¿ç”¨é™åˆ¶
- âœ… å­¦æœ¯ç ”ç©¶æ”¯æŒ

#### **é«˜è´¨é‡æ¨¡å‹**
- âœ… **Llama 3.1 8B**ï¼šMetaæœ€æ–°å¼€æºæ¨¡å‹
- âœ… **æ€§èƒ½ä¼˜å¼‚**ï¼šæ¥è¿‘GPT-3.5æ°´å¹³
- âœ… **å¤šè¯­è¨€æ”¯æŒ**ï¼šä¸­è‹±æ–‡æ··åˆ
- âœ… **å­¦æœ¯ä¼˜åŒ–**ï¼šé€‚åˆæ•™è‚²åœºæ™¯

#### **RAGå¢å¼º**
- âœ… **çŸ¥è¯†æ£€ç´¢**ï¼šMAEä¸“ä¸šçŸ¥è¯†åº“
- âœ… **ä¸Šä¸‹æ–‡å¢å¼º**ï¼šåŸºäºç›¸å…³æ–‡æ¡£
- âœ… **å‡†ç¡®æ€§æå‡**ï¼šä¸“ä¸šä¿¡æ¯æ”¯æŒ
- âœ… **ä¸ªæ€§åŒ–å›å¤**ï¼šç¬¦åˆpersonaç‰¹ç‚¹

### **ğŸ” æŠ€æœ¯ç»†èŠ‚**

#### **APIè°ƒç”¨ç¤ºä¾‹**
```python
response = self.client.chat.completions.create(
    model="llama-3.1-8b-instruct",
    messages=[
        {"role": "system", "content": "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å­¦æœ¯å¯¹è¯åŠ©æ‰‹ã€‚"},
        {"role": "user", "content": prompt}
    ],
    max_tokens=200,
    temperature=0.7
)
```

#### **Promptå·¥ç¨‹**
```python
prompt = f"""
åŸºäºä»¥ä¸‹MAEä¸“ä¸šçŸ¥è¯†ï¼š
{knowledge_context}

Peer Advisorè¯´ï¼š{advisor_message}

è¯·ä½œä¸º{persona}å­¦ç”Ÿï¼ŒåŸºäºä»¥ä¸Šä¿¡æ¯ç”Ÿæˆå›å¤ã€‚
å›å¤åº”è¯¥ï¼š
1. å¼•ç”¨ç›¸å…³çŸ¥è¯†ï¼ˆå¦‚æœç›¸å…³ï¼‰
2. ç¬¦åˆ{persona}å­¦ç”Ÿç‰¹ç‚¹
3. è‡ªç„¶æµç•…ï¼ŒåƒçœŸå®å¯¹è¯
4. é•¿åº¦é€‚ä¸­ï¼ˆ1-3å¥è¯ï¼‰
5. ä½“ç°å­¦ç”Ÿçš„æ€è€ƒè¿‡ç¨‹
"""
```

### **ğŸ“ˆ æ€§èƒ½å¯¹æ¯”**

| ç‰¹æ€§ | ä¹‹å‰Fallback | UF LiteLLM API |
|------|-------------|----------------|
| æˆæœ¬ | å…è´¹ | å…è´¹ |
| æ¨¡å‹è´¨é‡ | è§„åˆ™åŸºç¡€ | Llama 3.1 8B |
| ä¸ªæ€§åŒ– | æœ‰é™ | é«˜åº¦ä¸ªæ€§åŒ– |
| ä¸Šä¸‹æ–‡ç†è§£ | åŸºç¡€ | æ·±åº¦ç†è§£ |
| å›å¤å¤šæ ·æ€§ | 20ç§å›ºå®š | æ— é™å˜åŒ– |
| RAGé›†æˆ | æ˜¯ | æ˜¯ |

### **ğŸ‰ æ€»ç»“**

**UF LiteLLM APIé›†æˆæˆåŠŸï¼**

### **æœ€ç»ˆæ–¹æ¡ˆä¼˜åŠ¿**
- âœ… **å®Œå…¨å…è´¹**ï¼šUFå­¦æœ¯èµ„æº
- âœ… **é«˜è´¨é‡æ¨¡å‹**ï¼šLlama 3.1 8B
- âœ… **RAGå¢å¼º**ï¼šä¸“ä¸šçŸ¥è¯†åº“
- âœ… **ä¸ªæ€§åŒ–å›å¤**ï¼šç¬¦åˆpersonaç‰¹ç‚¹
- âœ… **ç¨³å®šå¯é **ï¼šä¸“ä¸šAPIæœåŠ¡

### **ç³»ç»ŸçŠ¶æ€**
- âœ… **APIè¿æ¥**ï¼šUF LiteLLM APIæ­£å¸¸å·¥ä½œ
- âœ… **æ¨¡å‹è®¿é—®**ï¼šLlama 3.1 8Bå¯ç”¨
- âœ… **RAGæ£€ç´¢**ï¼šSimpleKnowledgeBaseé›†æˆ
- âœ… **æ„å›¾åˆ†ç±»**ï¼šRoBERTa + å…³é”®è¯åˆ†ç±»
- âœ… **æ™ºèƒ½å›å¤**ï¼šé«˜è´¨é‡LLMç”Ÿæˆ
- âœ… **å¯¹è¯åˆ†æ**ï¼šå®æ—¶ç»Ÿè®¡å’Œåé¦ˆ

**ç°åœ¨ä½ çš„ç½‘ç«™å°†ä½¿ç”¨UFçš„Llama 3.1 8Bæ¨¡å‹ç”Ÿæˆé«˜è´¨é‡çš„ä¸ªæ€§åŒ–å­¦ç”Ÿå›å¤ï¼** ğŸš€

### **ä¸‹ä¸€æ­¥**
1. ç­‰å¾…Streamlit Cloudè‡ªåŠ¨éƒ¨ç½²
2. è®¿é—®ç½‘ç«™æµ‹è¯•æ–°åŠŸèƒ½
3. éªŒè¯RAG + LLMé›†æˆæ•ˆæœ
4. äº«å—é«˜è´¨é‡çš„å¯¹è¯ä½“éªŒï¼
